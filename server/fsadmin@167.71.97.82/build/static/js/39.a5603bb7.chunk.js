(this["webpackJsonpellen-silverman"]=this["webpackJsonpellen-silverman"]||[]).push([[39],{116:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(42);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(u){n=!0,o=u}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},340:function(e,t,a){"use strict";a.r(t);var r=a(14),n=a.n(r),o=a(21),s=a(116),i=a(2),u=a.n(i),c=a(27),l=a(43),m=a(44),d=a(31);t.default=function(e){var t=e.history,a=Object(i.useState)(""),r=Object(s.a)(a,2),p=r[0],b=r[1],f=Object(i.useState)(""),h=Object(s.a)(f,2),v=h[0],w=h[1],y=Object(i.useState)(""),g=Object(s.a)(y,2),E=g[0],k=g[1],x=Object(c.b)();Object(i.useEffect)((function(){b(window.localStorage.getItem("emailForRegistration"))}),[t]);var j=function(){var e=Object(o.a)(n.a.mark((function e(a){var r,o,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),p&&v){e.next=3;break}return e.abrupt("return",d.c.error("Email and password is required"));case 3:if(!(v.length<6)){e.next=5;break}return e.abrupt("return",d.c.error("Password must be at least 6 characters long"));case 5:if(v===E){e.next=7;break}return e.abrupt("return",d.c.error("Passwords must match"));case 7:return e.prev=7,e.next=10,l.a.signInWithEmailLink(p,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=23;break}return window.localStorage.removeItem("emailForRegistration"),r=l.a.currentUser,e.next=16,r.updatePassword(v);case 16:return e.next=18,r.getIdTokenResult();case 18:return o=e.sent,e.next=21,Object(m.a)(o.token);case 21:s=e.sent,x({type:"LOGGED_IN_USER",payload:{name:s.data.name,email:s.data.email,token:o.token,role:s.data.role,_id:s.data._id}});case 23:t.push("/"),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(7),console.log(e.t0),d.c.error(e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[7,26]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:"auth-page-body"},u.a.createElement("div",{className:"auth-frame"},u.a.createElement("h1",{className:"auth-brand-header"},"Complete Registration"),u.a.createElement("form",{onSubmit:j},u.a.createElement("input",{className:"simple-text-input",disabled:!0,value:p,onChange:function(){}}),u.a.createElement("input",{className:"simple-text-input",type:"password",value:v,onChange:function(e){return w(e.target.value)},placeholder:"Password",autoFocus:!0}),u.a.createElement("input",{className:"simple-text-input",type:"password",value:E,onChange:function(e){return k(e.target.value)},placeholder:"Confirm password",autoFocus:!0}),u.a.createElement("div",{className:"auth-bottom-links"},u.a.createElement("div",null),u.a.createElement("button",{type:"submit",className:"button button-standard-size button-basic",disabled:!v||!E},"Complete Registration")))))}}}]);
//# sourceMappingURL=39.a5603bb7.chunk.js.map